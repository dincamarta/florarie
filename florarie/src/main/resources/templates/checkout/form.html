<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Finalizare ComandÄƒ - Checkout</title>
    <link rel="stylesheet" th:href="@{/css/common.css}">
    <link rel="stylesheet" th:href="@{/css/checkout.css}">
</head>
<body>
<div class="checkout-page">
    <!-- Hero Section -->
    <div class="checkout-hero">
        <div class="checkout-hero-content">
            <h1>âœ“ Finalizare ComandÄƒ</h1>
            <p>Ultimul pas pentru a primi florile tale</p>
        </div>
    </div>

    <!-- Back Link -->
    <div class="checkout-nav">
        <a class="back-to-cart-btn" th:href="@{/bouquet}">â† Ãnapoi la coÈ™</a>
    </div>

    <!-- Content -->
    <div class="checkout-content">
        <div class="checkout-layout">
            <!-- Form Section -->
            <div class="checkout-form-section">
                <div class="form-card">
                    <h2>ğŸ“ Detalii Livrare</h2>
                    <form class="checkout-form" th:action="@{/checkout}" th:object="${form}" method="post">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

                        <div class="form-field">
                            <label>ğŸ“ AdresÄƒ livrare:</label>
                            <input type="text" th:field="*{deliveryAddress}" placeholder="Ex: Str. Florilor nr. 10, BucureÈ™ti">
                            <div class="validation-error" th:if="${#fields.hasErrors('deliveryAddress')}" th:errors="*{deliveryAddress}"></div>
                        </div>

                        <div class="form-field">
                            <label>ğŸ“ Telefon:</label>
                            <input type="text" th:field="*{phone}" placeholder="Ex: 0712345678">
                            <div class="validation-error" th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}"></div>
                        </div>

                        <div class="form-field">
                            <label>ğŸ“ ObservaÈ›ii (opÈ›ional):</label>
                            <textarea th:field="*{notes}" rows="4" placeholder="InstrucÈ›iuni speciale pentru livrare sau preferinÈ›e pentru buchet..."></textarea>
                            <div class="validation-error" th:if="${#fields.hasErrors('notes')}" th:errors="*{notes}"></div>
                        </div>

                        <div class="form-field">
                            <label>â° Deadline (cÃ¢nd sÄƒ fie gata):</label>
                            <input type="datetime-local" th:field="*{requiredBy}">
                            <div class="validation-error" th:if="${#fields.hasErrors('requiredBy')}" th:errors="*{requiredBy}"></div>
                        </div>

                        <!-- Global Errors -->
                        <div class="global-error-box" th:if="${#fields.hasGlobalErrors()}">
                            <div class="error-icon">âš ï¸</div>
                            <div class="error-messages">
                                <strong>Eroare:</strong>
                                <ul>
                                    <li th:each="err : ${#fields.globalErrors()}" th:text="${err}"></li>
                                </ul>
                            </div>
                        </div>

                        <button type="submit" class="place-order-btn">
                            âœ“ PlaseazÄƒ Comanda
                        </button>
                    </form>
                </div>
            </div>

            <!-- Info Section -->
            <div class="checkout-info-section">
                <div class="info-card">
                    <h3>ğŸ’¡ InformaÈ›ii Importante</h3>
                    <div class="info-item">
                        <span class="info-icon">ğŸšš</span>
                        <p><strong>Livrare rapidÄƒ</strong><br>LivrÄƒm Ã®n aceeaÈ™i zi Ã®n oraÈ™</p>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">ğŸŒ¸</span>
                        <p><strong>Flori proaspete</strong><br>GarantÄƒm prospeÈ›imea florilor</p>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">ğŸ“</span>
                        <p><strong>Suport dedicat</strong><br>Te vom contacta pentru confirmare</p>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">ğŸ’³</span>
                        <p><strong>Plata la livrare</strong><br>PoÈ›i plÄƒti cash sau card</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Custom Error -->
        <div class="custom-error-alert" th:if="${error}">
            <span class="alert-icon">âš ï¸</span>
            <div class="alert-content">
                <strong>Eroare:</strong>
                <span th:text="${error}"></span>
            </div>
        </div>
    </div>
</div>
</body>
</html>
