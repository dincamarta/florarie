<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Admin - Comenzi</title>
    <link rel="stylesheet" th:href="@{/css/common.css}">
    <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>
<body>
<div class="admin-container">
<div class="admin-header">
<h1>Comenzi (Admin)</h1>

<div class="admin-nav">
    <a th:href="@{/admin/flowers}">Admin - Flori</a>
    <a th:href="@{/}">Home</a>
<form th:action="@{/logout}" method="post" style="display:inline;">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
    <button type="submit" class="logout-btn">Logout</button>
</form>
</div>
</div>

<div class="admin-table">
<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>Data</th>
        <th>User</th>
        <th>Status</th>
        <th>Total</th>
        <th>Acțiuni</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="o : ${orders}">
        <td th:text="${o.id}">1</td>
        <td th:text="${o.createdAt}"></td>
        <td th:text="${o.user != null ? o.user.email : 'N/A'}"></td>
        <td th:text="${o.status}">NEW</td>
        <td th:text="${o.total}">0</td>
        <td class="action-links">
            <a th:href="@{/admin/orders/{id}(id=${o.id})}">Detalii</a>
            <a th:href="@{/admin/orders/overdue}">Vezi întârziate</a>
            <a class="delete-btn" th:href="@{/admin/orders/{id}/delete(id=${o.id})}">Șterge</a>
        </td>
    </tr>
    </tbody>
</table>
</div>
</div>
</body>
</html>
